<main>

  <app-coachee-navbar-top></app-coachee-navbar-top>

  <div class="row">

    <div class="col s12 m12">
      <div class="content-container">

        <section class="card-panel grey lighten-5">

          <header>
            <div class="row">
              <div class="input-field col l3 m6 s12">
                <a class='dropdown-trigger btn yellow darken-3' data-target='dropdown1'>{{placeHolderTopicName}}</a>
                <ul id='dropdown1' class='dropdown-content'>
                  <div *ngFor="let topicName of topicNames">
                    <li><a (click)=filterByTopicName(topicName)>{{topicName}}</a></li>
                  </div>
                  <li><a (click)="filterByTopicName('')">All topics</a></li>
                </ul>
              </div>
              <div class="input-field col l3 m6 s12">
                <a class='dropdown-trigger btn yellow darken-3' data-target='dropdown2'>{{placeHolderExperience}}</a>
                <ul id='dropdown2' class='dropdown-content'>
                    <li><a (click)="filterByExperience('Intermediate')">Intermediate</a></li>
                    <li><a (click)="filterByExperience('Medium')">Medium</a></li>
                    <li><a (click)="filterByExperience('Expert')">Expert</a></li>
                    <li><a (click)="filterByExperience('')">All</a></li>
                </ul>
              </div>
              <div class="input-field col l6 m12 s12">
                <i class="material-icons prefix">search</i>
                <input id="icon_prefix" type="text" class="validate" [(ngModel)] = "searchText">
                <label for="icon_prefix">First name, last name or email</label>
              </div>
            </div>
          </header>

          <div class="row">
            <div class="col l5 m4 s5" *ngFor="let coach of coaches | topicNameFilter:filteredTopic | textSearch: searchText | experienceCoach: experience">

              <h5 class="header">{{coach.firstName}} {{coach.lastName}}</h5>
              <div class="card horizontal">
                <div class="card-image">
                  <img [src]="coach.image">

                </div>
                <div class="card-stacked">
                  <div class="card-content">
                    <table class="highlight responsive-table">
                      <tbody>
                      <div *ngFor="let topic of coach.topicsByCoach">
<!--                        <div *ngFor="let topic of coach.topicsByCoach | experienceFilter: experience">-->
                        <tr>
                          <td><strong>{{topic.topicName}}</strong></td>
                          <td *ngIf="topic.grade1">Intermediate</td>
                          <td *ngIf="topic.grade2">Medium</td>
                          <td *ngIf="topic.grade3">Expert</td>
                        </tr>
                      </div>
                      </tbody>
                    </table>

                    <a class="btn-floating halfway-fab waves-effect waves-light yellow darken-2 btn-large"
                       routerLink="./{{coach.id}}"><i
                      class="material-icons">send</i></a>
                  </div>
                </div>
              </div>
            </div>

          </div>

        </section>

      </div>
    </div>
  </div>

</main>
